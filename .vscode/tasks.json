// https://github.com/connor4312/esbuild-problem-matchers/blob/main/package.json
{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Increase package.json version",
      "type": "shell",
      "command": "node",
      "args": ["--import", "tsx", "./build/increase-version.ts"],
      "problemMatcher": [],
      "icon": {
        "id": "brand-nodejs",
      },
    },
    {
      "label": "vscode:watch",
      "type": "shell",
      "command": "pnpm",
      "args": ["run", "vscode:watch"],
      "isBackground": true,
      "problemMatcher": "$common",
      "icon": {
        "id": "brand-esbuild",
      },
    },
    {
      "label": "vscode:build",
      "type": "shell",
      "command": "pnpm",
      "args": ["run", "vscode:build"],
      "problemMatcher": [],
      "icon": {
        "id": "brand-esbuild",
      },
    },
    {
      "label": "vscode:package",
      "dependsOn": ["vscode:build"],
      "type": "shell",
      "options": {
        "cwd": "${workspaceFolder}/out/vscode",
      },
      "command": "pnpm",
      "args": ["dlx", "vsce", "package", "--out", "problem-matcher.vsix"],
      "problemMatcher": [],
      "icon": {
        "id": "brand-vscode",
      },
    },
    {
      "label": "vscode:install",
      "dependsOn": [
        "Increase package.json version",
        "vscode:package",
      ],
      "type": "shell",
      "options": {
        "cwd": "${workspaceFolder}/out/vscode",
      },
      "command": "code",
      "args": ["--install-extension", "problem-matcher.vsix"],
      "problemMatcher": [],
      "icon": {
        "id": "brand-vscode",
      },
    },
    {
      "label": "vscode:publish",
      "dependsOn": ["vscode:package"],
      "type": "shell",
      "options": {
        "cwd": "${workspaceFolder}/out/vscode",
      },
      "command": "pnpm",
      "args": ["dlx", "vsce", "publish"],
      "problemMatcher": [],
      "icon": {
        "id": "brand-vscode",
      },
    },
    {
      "label": "npm:build",
      "type": "shell",
      "command": "pnpm",
      "args": ["run", "npm:build"],
      "problemMatcher": [],
      "icon": {
        "id": "brand-esbuild",
      },
    },
    {
      "label": "npm:publish",
      "dependsOn": ["npm:build"],
      "type": "shell",
      "options": {
        "cwd": "${workspaceFolder}/out/npm",
      },
      "command": "pnpm",
      "args": ["publish", "--no-git-checks"],
      "problemMatcher": [],
      "icon": {
        "id": "brand-npm",
      },
    },
  ]
}
